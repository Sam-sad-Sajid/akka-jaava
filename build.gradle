plugins {
    id 'java'
    id 'scala'
    id 'com.diffplug.spotless' version '6.5.2'
}

group 'org.example'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

java {
    toolchain {
        languageVersion.set(JavaLanguageVersion.of(17))
    }
}

def versions = [
        Akka: '2.6.19',
        ScalaBinary: '2.13',
        CinnamonAgent: '2.16.3',
]

dependencies {
    implementation platform("com.typesafe.akka:akka-bom_${versions.ScalaBinary}:${versions.Akka}")
    implementation "com.typesafe.akka:akka-actor-typed_${versions.ScalaBinary}:${versions.Akka}"
    implementation "ch.qos.logback:logback-classic:1.2.11"

    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'
}

test {
    useJUnitPlatform()
}

spotless {
    java {
        googleJavaFormat()
        target project.fileTree(project.rootDir) {
            include '**/*.java'
            exclude 'build/**'
        }
    }
}